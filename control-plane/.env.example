# PHASE 73: Control Plane Environment Variables
# Copy this file to .env and fill in values.
# Follows 12-Factor App Principle 1: Environment Externalization.

# ============================================
# REQUIRED — Service will not start without these
# ============================================

# PostgreSQL connection string (Supabase direct DB URL)
DATABASE_URL=postgresql://postgres:password@db.xxx.supabase.co:5432/postgres

# Supabase REST API URL
SUPABASE_URL=https://xxx.supabase.co

# Supabase Service Role Key (full access — keep secret)
SUPABASE_SERVICE_ROLE_KEY=eyJ...

# Redis URL (for BullMQ job queues)
REDIS_URL=redis://default:password@redis:6379

# ============================================
# OPTIONAL — Defaults shown
# ============================================

# DigitalOcean API Token (for droplet management)
DIGITALOCEAN_API_TOKEN=

# Server
PORT=3000
HOST=0.0.0.0
NODE_ENV=production
LOG_LEVEL=info

# Worker Concurrency
WORKFLOW_UPDATE_CONCURRENCY=100
WAKE_DROPLET_CONCURRENCY=50
SIDECAR_UPDATE_CONCURRENCY=50
CREDENTIAL_INJECT_CONCURRENCY=50

# Watchdog Service
WATCHDOG_INTERVAL_SECONDS=60
WATCHDOG_HEARTBEAT_TIMEOUT_MINUTES=5

# Scale Alerts Service
SCALE_ALERTS_INTERVAL_MINUTES=15

# Heartbeat Processor
HEARTBEAT_PROCESS_INTERVAL_SECONDS=10

# Graceful Shutdown
GRACEFUL_SHUTDOWN_TIMEOUT_MS=30000
