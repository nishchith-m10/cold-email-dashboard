# ========================================
# Cold Email Dashboard - Environment Variables
# ========================================
# Copy this file to .env.local and fill in your actual values
# DO NOT commit .env.local to version control!

# ========================================
# SUPABASE CONFIGURATION (Required)
# ========================================
# Get these from: https://supabase.com/dashboard/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# ========================================
# CLERK AUTHENTICATION (Required)
# ========================================
# Get these from: https://dashboard.clerk.com/
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_xxxxx
CLERK_SECRET_KEY=sk_test_xxxxx

# Clerk Routes (usually these defaults are fine)
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up

# Clerk Webhook (for user sync)
# Get from: Clerk Dashboard → Webhooks
CLERK_WEBHOOK_SECRET=whsec_xxxxx

# ========================================
# WEBHOOK SECURITY (Required)
# ========================================
# Generate a secure token with: openssl rand -hex 32
# Use the SAME token in your n8n workflows
DASH_WEBHOOK_TOKEN=your-random-webhook-token-here

# ========================================
# MATERIALIZED VIEWS REFRESH (Required for Production)
# ========================================
# Generate another secure token with: openssl rand -hex 32
# Used by Vercel cron job to refresh database views
MATERIALIZED_VIEWS_REFRESH_TOKEN=your-refresh-token-here

# ========================================
# CRON JOB AUTHENTICATION (Required for Production)
# ========================================
# Generate with: openssl rand -hex 32
# Used by Vercel cron jobs for API health checks, credential rotation, and background tasks
# Required by: Phase 71 health monitors, Phase 69 credential rotation, export processing
CRON_SECRET=your-random-cron-secret-here

# ========================================
# DIGITALOCEAN API (Required for Phase 70 Disaster Recovery)
# ========================================
# Get from: https://cloud.digitalocean.com/account/api/tokens
# Required by: Phase 70 disaster recovery, snapshot management, regional failover
DIGITALOCEAN_API_TOKEN=your-digitalocean-api-token-here

# Docker Hub image for the Sidecar agent (pushed before provisioning clients)
# Build & push: cd sidecar && docker build -t yourdockerhub/genesis-sidecar:latest . && docker push yourdockerhub/genesis-sidecar:latest
GENESIS_SIDECAR_IMAGE=upshot/genesis-sidecar:latest

# ========================================
# GLOBAL AI / SCRAPING KEYS (Operator-Paid)
# Injected into each droplet at provision time via Cloud-Init.
# These cover Relevance AI, Apify, and Google Custom Search — costs borne by you.
# ========================================
# Relevance AI workspace + project token
# Get from: https://app.relevanceai.com → Settings → API Keys
RELEVANCE_AI_API_KEY=your-relevance-ai-api-key

# Apify (web scraping / LinkedIn scraper)
# Get from: https://console.apify.com/account/integrations
APIFY_API_KEY=your-apify-api-key

# Google Custom Search Engine (used by Research Report workflow)
# Create at: https://programmablesearchengine.google.com
# API key from: https://console.cloud.google.com → Credentials
GOOGLE_CSE_API_KEY=your-google-cse-api-key
GOOGLE_CSE_CX=your-google-cse-cx-id

# ========================================
# GOOGLE SHEETS INTEGRATION (Optional)
# ========================================
# Only needed if using Google Sheets as data source
# Get from: Google Cloud Console → Service Accounts
GOOGLE_SERVICE_ACCOUNT_JSON={"type":"service_account","project_id":"your-project",...}
GOOGLE_SHEET_ID=your-google-sheet-id

# ========================================
# ENCRYPTION KEYS (Required)
# ========================================
# Generate with: openssl rand -hex 32
ASK_KEY_ENCRYPTION_KEY=your-32-byte-hex-key
INTERNAL_ENCRYPTION_KEY=your-32-byte-hex-key

# ========================================
# APP CONFIGURATION
# ========================================
NEXT_PUBLIC_APP_URL=http://localhost:3000
CACHE_REFRESH_TOKEN=your-cache-refresh-token

# ========================================
# ADMIN CONFIGURATION
# ========================================
# Comma-separated list of Clerk User IDs who have super admin access
# Get your user ID from Clerk Dashboard → Users → Click your user → User ID
SUPER_ADMIN_IDS=user_xxxxx,user_yyyyy
NEXT_PUBLIC_SUPER_ADMIN_IDS=user_xxxxx,user_yyyyy

# ========================================
# DEVELOPMENT/TESTING (Optional)
# ========================================
# Set to 'true' to bypass Clerk auth in E2E tests (localhost only)
PLAYWRIGHT_TEST=false
NODE_ENV=development
BASE_URL=http://localhost:3000

# Genesis Engine V35 - Phase 40-51
NEXT_PUBLIC_OHIO_WORKSPACE_ID=your_ohio_workspace_uuid_here
INTERNAL_ENCRYPTION_KEY=your_32_byte_hex_key_here

# ========================================
# GENESIS PHASE 64 - Gateway OAuth Proxy
# ========================================
# Master encryption key for credential vault (generate with: openssl rand -hex 32)
ENCRYPTION_MASTER_KEY=your_64_char_hex_key_here

# Gmail OAuth (Genesis-operated OAuth app)
# Get from Google Cloud Console - this is for the Genesis OAuth proxy
GMAIL_OAUTH_CLIENT_ID=your_gmail_client_id.apps.googleusercontent.com
GMAIL_OAUTH_CLIENT_SECRET=your_gmail_client_secret
GMAIL_OAUTH_REDIRECT_URI=http://localhost:3000/api/oauth/gmail/callback

# ========================================
# SIDECAR SMTP/IMAP CONFIGURATION (Optional)
# ========================================
# For workspaces using custom SMTP email providers (not Gmail)
# The Sidecar agent exposes /send and /check-reply endpoints for n8n workflows
# Leave blank if using Gmail only

# SMTP Server Settings
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@example.com
SMTP_PASS=your_smtp_password

# Email Sender Identity
SMTP_FROM_EMAIL=your_email@example.com
SMTP_FROM_NAME=Your Company Name

# ========================================
# PHASE 65.2 & 65.4: DNS AUTOMATION (Optional)
# ========================================
# Entri API for automated DNS setup (optional premium feature)
# Get from: https://www.entri.com/
# If not set, users will use manual DNS setup (free alternative)
ENTRI_API_KEY=your_entri_api_key_here
ENTRI_APP_ID=your_entri_application_id_here
